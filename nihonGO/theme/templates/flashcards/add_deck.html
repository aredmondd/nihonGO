<!-- add_deck.html -->
{% extends 'components/wrapper.html' %}

{% block content %}
<h1 class="text-3xl font-bold mb-6">Add New Deck</h1>

<form method="POST">
    {% csrf_token %}
    
    <!-- Deck Name Field -->
    <div class="mb-4">
        <label for="id_name" class="block text-sm font-medium text-gray-700">Deck Name</label>
        <input type="text" name="name" id="id_name" value="{{ deck_form.name.value|default:'' }}" class="w-full h-8 rounded-md border-gray-300 p-2" placeholder="">
    </div>

    <h2 class="text-xl font-semibold mb-4">Add Flashcards</h2>
    
    <!-- Dynamically add flashcard forms -->
    {% for flashcard_form in flashcard_forms %}
        <div class="flex items-center mb-4 space-x-4">
            <div class="flex-1">
                <label for="id_japanese" class="block text-sm font-medium text-gray-700">Japanese</label>
                <input type="text" name="question" id="id_japanese" value="{{ flashcard_form.question.value|default:'' }}" class="w-full h-8 rounded-md border-gray-300 p-2">
            </div>
            <div class="flex-1">
                <label for="id_english" class="block text-sm font-medium text-gray-700">English</label>
                <input type="text" name="answer" id="id_english" value="{{ flashcard_form.answer.value|default:'' }}" class="w-full h-8 rounded-md border-gray-300 p-2">
            </div>
            <div class="flex-1">
                <label for="id_part_of_speech" class="block text-sm font-medium text-gray-700">Part of Speech</label>
                <select name="part_of_speech" id="id_part_of_speech" class="w-full h-8 rounded-md border-gray-300 p-2">
                    {% for choice in flashcard_form.part_of_speech.field.choices %}
                        <option value="{{ choice.0 }}" {% if flashcard_form.part_of_speech.value == choice.0 %} selected {% endif %}>
                            {{ choice.1 }}
                        </option>
                    {% endfor %}
                </select>
            </div>
        </div>
    {% endfor %}

    <button type="submit" class="border-2 border-black rounded-3xl bg-orange shadow-md p-4 text-center flex justify-center items-center hover:bg-crimson">Create Deck</button>
</form>
{% endblock %}
