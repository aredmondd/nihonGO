{% load static tailwind_tags %}
{% load static %}
{% load widget_tweaks %}
<!DOCTYPE html>
<html lang="en">
	<head>
    <title>Django Tailwind</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		{% tailwind_css %}
	</head>

	<body>
		{% block title %}Edit Profile Page{% endblock title %}
        {% block content %}
            <div class="flex justify-center my-3 p-3">
                <img class="rounded-full w-32 h-32 object-cover cursor-pointer" src="{{ user.profile.avatar.url }}" alt="Profile Picture" />
            </div>

            {% if user_form.errors %}
                <div class="bg-red-500 text-white p-4 rounded mb-4">
                    <div id="form_errors">
                        {% for key, value in user_form.errors.items %}
                            <strong>{{ value }}</strong>
                        {% endfor %}
                    </div>
                </div>
            {% endif %}

            <div class="form-content max-w-lg mx-auto p-6 bg-white rounded-lg shadow-md">
                <form method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Username:</label>
                            <input type="text" name="username" value="{{ user_form.username.value }}" 
                                class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-500" />
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Email:</label>
                            <input type="email" name="email" value="{{ user_form.email.value }}" 
                                class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-500" />
                        </div>

                        <div>
                            <a href="{% url 'password_change' %}" class="text-blue-600 hover:underline">Change Password</a>
                            <hr class="my-4">
                            <label class="block text-sm font-medium text-gray-700 mb-1">Change Avatar:</label>
                            <input type="file" name="avatar" 
                                class="mt-1 block w-full text-sm text-gray-500" />
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Bio:</label>
                            <textarea name="bio" rows="4" 
                                    class="mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring focus:ring-blue-500">{{ profile_form.bio.value }}</textarea>
                        </div>
                    </div>
                    <br>
                    <div class="flex space-x-4 mt-6">
                        <button type="submit" class="w-full bg-blue-500 text-white py-2 rounded-md hover:bg-blue-600">Save Changes</button>
                        <button type="reset" class="w-full bg-gray-300 text-gray-800 py-2 rounded-md hover:bg-gray-400">Reset</button>
                    </div>
                </form>
            </div>
        {% endblock content %}

	</body>
</html>
